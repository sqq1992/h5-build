(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{499:function(e,t,n){"use strict";n(472);var r=n(164),a=n(0),o=n(433);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){var e=localStorage.getItem("appList");try{return e?JSON.parse(e):[]}catch(e){return localStorage.removeItem("appList"),[]}};t.a=function(){var e=u(Object(a.useState)([]),2),t=e[0],n=e[1];Object(a.useEffect)((function(){n(f())}),[]);var i=function(e){n(e||[]),e?localStorage.setItem("appList",JSON.stringify(e)):localStorage.removeItem("appList")};return{appList:t,getAppDetail:Object(a.useCallback)((function(e){return f().filter((function(t){return t.id===e}))[0]||null}),[]),addApp:Object(a.useCallback)((function(e){if(a=e.name,!f().map((function(e){return e.name})).includes(a)){var t=f(),n=Object(o.a)();return t.push(l(l({},e),{},{id:n})),i(t),n}var a;return r.b.warn("应用名重复，请更改"),!1}),[]),editAppInfo:Object(a.useCallback)((function(e){var t=f().map((function(t){return e.id===t.id?l(l({},t),{},{name:e.name,desc:e.desc}):t}));i(t)}),[]),saveAppLayout:Object(a.useCallback)((function(e,t){var n=f().map((function(n){return e===n.id?l(l({},n),{},{layout:t}):n}));i(n)}),[]),removeApp:Object(a.useCallback)((function(e){var t=f().filter((function(t){return t.id!==e}));i(t)}),[]),clearApp:Object(a.useCallback)((function(){i()}),[])}}},889:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(158),i=n(433),l=n(440),c=n(560),u=n.n(c),p=(n(445),n(442)),f=(n(687),n(873)),m=(n(498),n(497)),s=n(880),d=n(891),b=n(892),g=n(689),y=n.n(g),h=n(499);var v=function(){var e=Object(o.c)((function(e){return e.currentSelectPageReducer||""}));return Object(o.c)((function(t){return t.pageListReducer.filter((function(t){return t.id===e}))[0]||null}))||null},O=n(123);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){switch(t.type){case"ADD_STATUS":return[].concat(x(e),[j({},t.payload)]);case"CLEAR_STATUS":return[];default:return x(e)}}function A(e,t){switch(t.type){case"SET_RESULT_FILE":return j({},t.payload);default:return j({},e)}}function k(e,t){switch(t.type){case"OPEN_PUBLISH_MODAL":return!0;case"HIDE_PUBLISH_MODAL":return!1;default:return e}}var I=function(){var e=w(Object(r.useReducer)(k,!1),2),t=e[0],n=e[1],a=Object(r.useRef)(!1),o=w(Object(r.useReducer)(P,[]),2),i=o[0],l=o[1],c=w(Object(r.useReducer)(A,{path:"",folderId:""}),2),u=c[0],p=c[1];Object(r.useEffect)((function(){a.current=t}),[t]);var f=Object(r.useCallback)((function(){n({type:"OPEN_PUBLISH_MODAL"})}),[n]),m=Object(r.useCallback)((function(e){e.close(),d(),n({type:"HIDE_PUBLISH_MODAL"}),b({path:"",folderId:""})}),[d,b,n]),s=Object(r.useCallback)((function(e){l({type:"ADD_STATUS",payload:e})}),[l]),d=Object(r.useCallback)((function(){l({type:"CLEAR_STATUS"})}),[l]),b=Object(r.useCallback)((function(e){p({type:"SET_RESULT_FILE",payload:e})}),[p]);return{publishStatus:i,clearPublishStatus:d,addPublishStatus:s,publishModalShow:t,publishModalShowRef:a,openPublishModal:f,hidePublishModal:m,resultFile:u,setResultFile:b}},N=(n(459),n(463)),T=l.a.div.withConfig({displayName:"PublishModal__Command"})(["margin-top:20px;background-color:#111;color:#fff;padding:15px;width:700px;height:400px;overflow:auto;"]),L=l.a.a.withConfig({displayName:"PublishModal__Download"})(["display:block;margin:20px 0;"]);var U=function(e){var t=e.publishModalShow,n=e.hidePublishModal,o=e.publishStatus,i=e.resultFile,l=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(l&&l.current){var e=l.current;e.scrollTop=e.scrollHeight-e.clientHeight>0?e.scrollHeight-e.clientHeight:0}}),[o]),a.a.createElement(N.a,{visible:t,onCancel:n,onOk:n,width:800,maskClosable:!1},a.a.createElement(T,{ref:l},o.map((function(e,t){return a.a.createElement("div",{key:t},e.text)})),o[o.length-1]&&("done"!==o[o.length-1].status?a.a.createElement("div",null,"打包中..."):null)),i.path&&a.a.createElement(L,{href:i.path},"下载 ",i.folderId,".zip"))},M=(n(472),n(164)),R=n(119);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=Object(R.a)({"PAGE_LIST/SET_PAGE_LIST":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},"PAGE_LIST/CLEAR_PAGE_LIST":function(){return[]}}).pageList,F=H.setPageList;H.clearPageList;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=function(){var e=W(Object(r.useState)({title:"",path:""}),2),t=e[0],n=e[1],a=W(Object(r.useState)(!1),2),l=a[0],c=a[1],u=Object(o.b)(),p=Object(o.c)((function(e){return e.pageListReducer}));return{newPageModalSubmit:function(){var e,r=p.map((function(e){return e.path})).includes(t.path);return t.title?r?M.b.warn("已创建页面中已有相同的path"):/^\w+$/.test(t.path)?(c(!1),n({title:"",path:""}),void u((e=$($({},t),{},{id:Object(i.a)(),componentList:[]}),function(t,n){var r=n(),a=r.pageListReducer,o=(r.currentSelectComponentReducer,D(D({},e),{},{id:e.id||Object(i.a)()})),l=a.concat([o]);t(F(l)),t(Object(O.b)(o.id))}))):M.b.warn("页面路径只能包含数字、字母、下划线"):M.b.warn("标题不得为空")},newPageInfo:t,hideNewPageModal:function(){n({title:"",path:""}),c(!1)},showNewPageModal:function(){c(!0)},newPageModalShow:l,inputNewPageInfo:function(e){return function(r){n($($({},t),{},G({},e,r.target.value)))}}}},K=(n(454),n(452)),V=(n(448),n(453));var Q=function(e){var t=e.newPageModalShow,n=e.newPageInfo,r=e.hideNewPageModal,o=e.newPageModalSubmit,i=e.inputNewPageInfo;return a.a.createElement(N.a,{visible:t,onCancel:r,onOk:o},a.a.createElement(K.a,{style:{marginTop:"30px"}},a.a.createElement(K.a.Item,{label:"页面标题"},a.a.createElement(V.a,{style:{width:"400px"},value:n.title,onChange:i("title")})),a.a.createElement(K.a.Item,{label:"页面路径",extra:a.a.createElement("div",null,"页面路径只能包含字母、数字、下划线")},a.a.createElement(V.a,{style:{width:"400px"},value:n.path,onChange:i("path"),suffix:".html"}))))},Y=m.a.Option,Z=f.a.Header,ee=l.a.div.withConfig({displayName:"CustomHeader__HeaderContainer"})(["display:flex;flex:1;justify-content:space-between;& > div{display:flex;align-items:center;}"]),te=l.a.div.withConfig({displayName:"CustomHeader__ButtonGroup"})(["margin-left:",";"],(function(e){return e.marginLeft||"10px"})),ne=l.a.div.withConfig({displayName:"CustomHeader__PageSelected"})(["display:flex;"]),re=(l.a.div.withConfig({displayName:"CustomHeader__FormItem"})([""]),{position:"relative",zIndex:2,backgroundColor:"#fff",boxShadow:"0 1px 7px rgba(0, 0, 0, 0.06)"}),ae={width:"200px",marginRight:"20px"};var oe=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.pageListReducer})),n=v(),l=Object(r.useRef)(null),c=X(),u=c.newPageModalSubmit,f=c.hideNewPageModal,g=c.showNewPageModal,w=c.newPageModalShow,E=c.inputNewPageInfo,j=c.newPageInfo,C=I(),x=C.publishStatus,S=C.addPublishStatus,_=C.publishModalShow,P=C.publishModalShowRef,A=C.openPublishModal,k=C.hidePublishModal,N=C.resultFile,T=C.setResultFile;return Object(h.a)().saveAppLayout,console.log("selectedPage",n),a.a.createElement(Z,{style:re},a.a.createElement(ee,null,a.a.createElement(ne,null,a.a.createElement("div",null,"当前页面："),a.a.createElement(m.a,{onChange:function(t){e(Object(O.b)(t))},style:ae,value:n?n.id:""},t.map((function(e){return a.a.createElement(Y,{value:e.id,key:e.id},e.title,"-",e.path)}))),a.a.createElement(p.a,{onClick:g},"新增页面"),a.a.createElement(p.a,{style:{marginLeft:"20px"}},"编辑当前页"),a.a.createElement(p.a,{style:{marginLeft:"20px"},danger:!0},"删除当页")),a.a.createElement("div",null,a.a.createElement(te,null,a.a.createElement(p.a,{style:{marginRight:"20px"}},"后退"),a.a.createElement(p.a,{style:{marginRight:"30px"}},"前进"),a.a.createElement(p.a,{type:"link",icon:a.a.createElement(s.a,null),onClick:function(){y.a.post("".concat("https://cqmfe.club/page-builder-server","/server/preview"),{pageList:t},{headers:{"Content-Type":"application/json"}}).then((function(e){window.open("".concat("https://cqmfe.club/page-builder-server","/preview/").concat(e.data.folderId,"/").concat(n.path,".html"))}))}},"预览")),a.a.createElement(te,null,a.a.createElement(p.a,{type:"link",icon:a.a.createElement(d.a,null)},"保存")),a.a.createElement(te,{marginLeft:"30px"},a.a.createElement(p.a,{type:"primary",icon:a.a.createElement(b.a,null),onClick:function(){var e=Object(i.a)();A(),l.current=new WebSocket("".concat("wss://cqmfe.club/page-builder-server","/ws?packageId=").concat(e)),l.current.onopen=function(n){l.current.send(JSON.stringify({type:"PAGELIST",pageList:t,packageId:e}))},l.current.onmessage=function(e){var t=JSON.parse(e.data);"finish"!==t.status?S(JSON.parse(e.data)):(P&&T({path:t.filePath,folderId:t.folderId}),l.current.close())}}},"发布")))),a.a.createElement(Q,{newPageModalShow:w,hideNewPageModal:f,newPageModalSubmit:u,inputNewPageInfo:E,newPageInfo:j}),a.a.createElement(U,{publishModalShow:_,hidePublishModal:function(){return k(l.current)},publishStatus:x,resultFile:N}))},ie=n(153),le=n(174),ce=n(169),ue=n(121);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var be=function(e,t){return function(n,r){n(Object(ce.a)(!0));var a=r(),o=a.currentSelectPageReducer,l=se(a.pageListReducer),c=l.filter((function(e){return e.id===o}))[0],u=c.componentList.map((function(e){return e.key})).indexOf(e),p=[],f=[];"over"===t?(p=c.componentList.slice(0,u),f=c.componentList.slice(u)):(p=c.componentList.slice(0,u+1),f=c.componentList.slice(u+1));var m=l.map((function(e){return e.id===o?fe(fe({},e),{},{componentList:p.concat([{type:"empty",key:Object(i.a)()}],f)}):e}));n(Object(ie.b)(m))}},ge=function(e){return function(t,n){var r=n(),a=r.currentSelectPageReducer,o=r.currentSelectComponentReducer,i=se(r.pageListReducer).map((function(t){return t.id===a?fe(fe({},t),{},{componentList:t.componentList.map((function(t){return t.key===o?e:t}))}):t}));t(Object(ie.b)(i))}},ye={id:"BANNER_COMPONENT_DEFAULT",name:"默认banner",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/banner.png",componentType:"banner",defaultProps:{bannerList:[{id:Object(i.a)(),to:"https://www.baidu.com",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%951.jpg"},{id:Object(i.a)(),to:"https://www.taobao.com",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%952.jpg"}],height:200}},he=n(876);n(706);var ve=function(e){var t=e.bannerList,n=e.height,o=e.onClick,i=Object(r.useRef)(null);return Object(r.useEffect)((function(){new he.a(i.current,{loop:!0,autoplay:{delay:3e3},navigation:!1})}),[]),a.a.createElement("div",{ref:i,onClick:o,style:{overflow:"hidden",height:n?"".concat(n,"px"):"150px"}},a.a.createElement("div",{className:"swiper-wrapper"},t.map((function(e,t){return a.a.createElement("div",{key:t,className:"swiper-slide"},a.a.createElement("div",{style:{height:"".concat(n,"px")||!1,background:"url(".concat(e.imgUrl,")"),backgroundSize:"cover",backgroundPosition:"center"}}))}))),a.a.createElement("div",{className:"swiper-pagination"}))};var Oe=function(){var e=Object(o.c)((function(e){return e.currentSelectPageReducer||""}));return Object(o.c)((function(t){var n=t.pageListReducer.filter((function(t){return t.id===e}))[0]||null;return n?n.componentList:[]}))};var we=function(){var e=Object(o.c)((function(e){return e.currentSelectPageReducer||""})),t=Object(o.c)((function(e){return e.currentSelectComponentReducer||""}));return Object(o.c)((function(n){var r=n.pageListReducer.filter((function(t){return t.id===e}))[0]||null;return r&&r.componentList.filter((function(e){return e.key===t}))[0]||null}))||null};var Ee=function(){var e=Object(o.b)(),t=we();return function(){N.a.confirm({content:"确认要删除当前组件？",onOk:function(){var n;e((n=t,function(e,t){var r=t(),a=r.currentSelectPageReducer,o=se(r.pageListReducer).map((function(e){return e.id===a?fe(fe({},e),{},{componentList:e.componentList.filter((function(e){return e.key!==n.key}))}):e}));e(Object(ue.b)(null)),e(Object(ie.b)(o))}))}})}},je=l.a.div.withConfig({displayName:"ToolContainer__Container"})(["box-sizing:border-box;padding:15px;"]);var Ce=function(e){var t=e.children;return a.a.createElement(je,null,t)},xe=(n(513),n(534)),Se=m.a.Option;var _e=function(e){var t=e.onChange,n=Object(o.c)((function(e){return e.pageListReducer})),r=Object(o.c)((function(e){return e.currentSelectPageReducer}));return a.a.createElement("div",null,a.a.createElement(m.a,{style:{width:"100%"},placeholder:"请选择...",onChange:function(e){var r=n.find((function(t){return t.id===e}));t&&t(r)}},n.map((function(e){var t=r===e.id;return a.a.createElement(Se,{key:e.id,disabled:t,value:e.id},e.title,t?"(当前页)":"")}))))};function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=l.a.div.withConfig({displayName:"BannerListItem__BannerItem"})(["margin-bottom:10px;"]),Ie=l.a.div.withConfig({displayName:"BannerListItem__BannerItemHeader"})(["display:flex;justify-content:space-between;"]),Ne=l.a.div.withConfig({displayName:"BannerListItem__BannerItemUrl"})(["flex:1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"]),Te=l.a.div.withConfig({displayName:"BannerListItem__BannerItemEdit"})(["display:flex;& > div{margin-left:5px;color:#1890ff;font-size:14px;flex:none;text-align:right;cursor:pointer;}"]),Le=l.a.div.withConfig({displayName:"BannerListItem__BannerItemPanel"})(["margin-top:10px;padding:10px 15px;box-sizing:border-box;background-color:#f6f6f6;& > div{margin-bottom:15px;}"]),Ue=l.a.div.withConfig({displayName:"BannerListItem__BannerItemTitle"})(["margin-bottom:5px;"]),Me=l.a.div.withConfig({displayName:"BannerListItem__RadioBar"})(["margin:10px 0;"]);var Re=function(e){var t=e.index,n=e.bannerItem,o=e.changeImgUrl,i=e.changePath,l=e.deleteBannerItem,c=Pe(Object(r.useState)(!(n.imgUrl&&n.to)),2),u=c[0],p=c[1],f=Pe(Object(r.useState)(1),2),m=f[0],s=f[1];return a.a.createElement(ke,null,a.a.createElement(Ie,null,a.a.createElement(Ne,null,"项",t+1,". ",n.imgUrl||"暂无"),a.a.createElement(Te,null,a.a.createElement("div",{onClick:function(){return p(!u)}},u?"收起":"编辑"),a.a.createElement("div",{onClick:function(){return l(n.id)}},"删除"))),u&&a.a.createElement(Le,null,a.a.createElement("div",null,a.a.createElement(Ue,null,"图片链接"),a.a.createElement("div",null,a.a.createElement(V.a,{value:n.imgUrl,onChange:function(e){return o(e,n.id)}}))),a.a.createElement("div",null,a.a.createElement(Ue,null,"跳转链接"),a.a.createElement(Me,null,a.a.createElement(xe.a.Group,{value:m,onChange:function(e){return s(e.target.value)}},a.a.createElement(xe.a,{value:1},"外部链接"),a.a.createElement(xe.a,{value:2},"本站页面"))),1===m?a.a.createElement(V.a,{value:n.to,onChange:function(e){return i(e.target.value,n.id)}}):a.a.createElement(_e,{onChange:function(e){i("./".concat(e.path,".html"),n.id)}}))))};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=function(){var e=Object(o.b)(),t=(Oe(),we()),n=Ee(),l=He(Object(r.useState)(t.props.height),2),c=l[0],u=l[1],f=He(Object(r.useState)(t.props.bannerList),2),m=f[0],s=f[1];Object(r.useEffect)((function(){u(t.props.height),s(t.props.bannerList)}),[t]);var d=function(e,t){var n=m.map((function(n){return n.id===t?De(De({},n),{},{imgUrl:e.target.value}):n}));s(n)},b=function(e,t){var n=m.map((function(n){return n.id===t?De(De({},n),{},{to:e}):n}));s(n)},g=function(e){if(m.length>1){var t=m.filter((function(t){return t.id!==e}));s(t)}else M.b.info("已是最后一项，无法删除")};return a.a.createElement(Ce,null,a.a.createElement(K.a,null,m&&m.map((function(e,t){return a.a.createElement(Re,{changeImgUrl:d,changePath:b,bannerItem:e,key:e.id,index:t,deleteBannerItem:g})})),a.a.createElement(K.a.Item,null,a.a.createElement(p.a,{type:"default",onClick:function(){var e=m[m.length-1]||{};if(e.imgUrl&&e.to){var t=m.concat([{id:Object(i.a)(),imgUrl:"",to:""}]);s(t)}else M.b.info("上一添加项尚未完成")}},"新增修改项")),a.a.createElement(K.a.Item,{label:"高度(px)"},a.a.createElement(V.a,{placeholder:"高度",onChange:function(e){u(e.target.value)},value:c})),a.a.createElement(K.a.Item,{style:{marginTop:"40px"}},a.a.createElement(p.a,{type:"primary",onClick:function(){if(m.forEach((function(e){if(!e.to&&!e.imgUrl)return M.b.info("请检查是否有未输入的图片或跳转链接")})),!/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(c))return M.b.info("高度必须为数字");var t=Object(i.a)();e(ge({type:"banner",key:t,props:{bannerList:m,height:c}})),e(Object(ue.b)(t)),M.b.info("修改成功")}},"确认"),a.a.createElement(p.a,{type:"danger",style:{marginLeft:"20px"},onClick:n},"删除"))))},$e={id:"PARAGRAPH_COMPONENT_DEFAULT",name:"默认段落",imgUrl:"https://gw.alipayobjects.com/os/q/cms/images/jnlh2jbs/6a988b50-e8ad-48c7-9e3e-bf6d4e1b1e2a.cms/images/07b38968-3ad0-4e4c-8631-d7adbfec66a8.png?x-oss-process=image/resize,w_560/crop,h_560",componentType:"paragraph",defaultProps:{title:"标题",content:"<p>这是一个默认段落的内容</p><p>感谢您的使用</p>"}},Ge=l.a.div.withConfig({displayName:"client__Container"})(["padding:20px 15px;"]),We=l.a.div.withConfig({displayName:"client__Title"})(['padding:0px 15px 10px;font-size:18px;position:relative;&::after{content:"";position:absolute;display:block;left:5px;top:5px;height:18px;width:4px;background-color:#1890ff;}']),Je=l.a.div.withConfig({displayName:"client__Content"})(["& > p{white-space:pre-wrap;margin-bottom:0;}"]);var Xe=function(e){var t=e.title,n=e.content,r=e.onClick;return a.a.createElement(Ge,{onClick:r},a.a.createElement(We,null,t),a.a.createElement(Je,{dangerouslySetInnerHTML:{__html:n}}))},Ke=n(708),Ve=n.n(Ke);n(804);function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ze=l.a.div.withConfig({displayName:"RichEdit__Container"})([""]);var et=function(e){var t=e.html,n=e.onChange,o=(e.height,Qe(Object(r.useState)(null),2)),i=o[0],l=o[1],c=Object(r.useRef)(["bold","italic","underline","line-height","link","text-color","font-size","text-align","media"]);return Object(r.useEffect)((function(){l(Ve.a.createEditorState(t))}),[t]),a.a.createElement(Ze,null,a.a.createElement(Ve.a,{value:i,onChange:function(e){l(e),n(e.toHTML())},controls:c.current,contentStyle:{height:"200px"}}))};function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rt=function(){var e=Object(o.b)(),t=(Oe(),we()),n=Ee(),l=tt(Object(r.useState)(t.props.title),2),c=l[0],u=l[1],f=tt(Object(r.useState)(t.props.content),2),m=f[0],s=f[1];return a.a.createElement(Ce,null,a.a.createElement(K.a,null,a.a.createElement(K.a.Item,{label:"标题"},a.a.createElement(V.a,{placeholder:"标题",onChange:function(e){return u(e.target.value)},value:c})),a.a.createElement(K.a.Item,{label:"内容"},a.a.createElement(et,{onChange:function(e){s(e)},html:t.props.content})),a.a.createElement(K.a.Item,{style:{marginTop:"40px"}},a.a.createElement(p.a,{type:"primary",onClick:function(){var t=Object(i.a)();e(ge({type:"paragraph",key:t,props:{title:c,content:m}})),e(Object(ue.b)(t))}},"确认"),a.a.createElement(p.a,{type:"danger",style:{marginLeft:"20px"},onClick:n},"删除"))))},at={id:"TEXT_COMPONENT_DEFAULT",name:"默认文本",imgUrl:"https://gw.alipayobjects.com/os/q/cms/images/jnlhbijy/3e1fe003-aa08-49bc-9199-0d706287ae92.cms/images/eea1430d-9f2e-4159-905f-226a94e1b11a.png?x-oss-process=image/resize,w_560/crop,h_560",componentType:"text",defaultProps:{content:"这是一段文本"}},ot=l.a.div.withConfig({displayName:"client__Container"})(["padding:20px 15px;font-size:14px;color:#333;"]);var it=function(e){var t=e.content,n=e.onClick;return a.a.createElement(ot,{onClick:n},a.a.createElement("div",null,t))};function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ut=Object(l.a)(V.a.TextArea).withConfig({displayName:"tool__TextArea"})(["width:300px;"]);var pt=function(){var e=Object(o.b)(),t=(Oe(),we()),n=Ee(),l=lt(Object(r.useState)(t.props.content),2),c=l[0],u=l[1];return a.a.createElement(Ce,null,a.a.createElement(K.a,null,a.a.createElement(K.a.Item,{label:"内容"},a.a.createElement(ut,{placeholder:"输入文本内容",rows:5,onChange:function(e){return u(e.target.value)},value:c})),a.a.createElement(K.a.Item,{style:{marginTop:"40px"}},a.a.createElement(p.a,{type:"primary",onClick:function(){var t=Object(i.a)();e(ge({type:"text",key:t,props:{content:c}})),e(Object(ue.b)(t))}},"确认"),a.a.createElement(p.a,{type:"danger",style:{marginLeft:"20px"},onClick:n},"删除"))))},ft={id:"IMAGE_COMPONENT_DEFAULT",name:"默认图片",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%953.jpg",componentType:"image",defaultProps:{imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%953.jpg",height:200,mode:"cover"}},mt=l.a.div.withConfig({displayName:"client__ImageContent"})(["background:url(",");background-size:cover;width:100%;height:","px;"],(function(e){return e.imgUrl}),(function(e){return e.imgHeight||200}));var st=function(e){var t=e.onClick,n=e.height,r=e.imgUrl;return a.a.createElement("div",{onClick:t},a.a.createElement(mt,{imgUrl:r,imgHeight:n}))},dt=l.a.div.withConfig({displayName:"CustomUpload__Container"})(["display:flex;align-items:center;margin-bottom:30px;overflow:hidden;text-overflow:ellipsis;margin-right:15px;& > label{cursor:pointer;display:block;border:1px solid #ccc;border-radius:2px;padding:5px 15px;background-color:#fff;flex:none;}& > span{text-overflow:ellipsis;flex:none;margin-left:10px;}"]);var bt=function(e){var t=e.onChange,n=e.imgName;return a.a.createElement(dt,null,a.a.createElement("label",{htmlFor:"files"},"上传图片"),a.a.createElement("span",null,n||""),a.a.createElement("input",{id:"files",style:{visibility:"hidden"},type:"file",onChange:function(e){var n=e.target.files[0],r=new FileReader;r.readAsDataURL(n),r.addEventListener("load",(function(){n.size<2048e3?t({url:r.result,imgName:n.name}):message.info("图片大小不得超过2M")}))},accept:".jpg,.png,.jpeg,.gif"}))};function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ht=l.a.div.withConfig({displayName:"tool__RadioGroup"})(["margin-bottom:20px;"]),vt=l.a.div.withConfig({displayName:"tool__Tips"})(["font-size:14px;color:#333;margin-bottom:10px;"]),Ot=l.a.div.withConfig({displayName:"tool__PreviewImage"})(["cursor:pointer;width:100px;height:100px;background:url(",") no-repeat;background-size:cover;background-position:center;margin-bottom:30px;"],(function(e){return e.imgUrl})),wt=l.a.img.withConfig({displayName:"tool__DetailImage"})(["width:400px;height:auto;"]);var Et=function(){var e=Object(o.b)(),t=(Oe(),we()),n=Ee(),l=gt(Object(r.useState)(t.props.imgUrl),2),c=l[0],u=l[1],f=gt(Object(r.useState)(""),2),m=f[0],s=f[1],d=gt(Object(r.useState)(!1),2),b=d[0],g=d[1],y=gt(Object(r.useState)(1),2),h=y[0],v=y[1],O=gt(Object(r.useState)(t.props.height),2),w=O[0],E=O[1];return a.a.createElement(Ce,null,a.a.createElement(K.a,null,a.a.createElement(K.a.Item,{label:"图片高度"},a.a.createElement(V.a,{style:{width:"300px"},placeholder:"高度",onChange:function(e){return E(e.target.value)},value:w})),a.a.createElement(ht,null,a.a.createElement(xe.a.Group,{value:h,onChange:function(e){return v(e.target.value)}},a.a.createElement(xe.a,{value:1},"输入图片链接"),a.a.createElement(xe.a,{value:2},"上传本地图片"))),1===h&&a.a.createElement(K.a.Item,{label:"图片URL"},a.a.createElement(V.a,{style:{width:"300px"},placeholder:"标题",onChange:function(e){return u(e.target.value)},value:c})),2===h&&a.a.createElement(a.a.Fragment,null,a.a.createElement(vt,null,"大小不得超过2M"),a.a.createElement(bt,{onChange:function(e){u(e.url),s(e.imgName)},imgName:m})),a.a.createElement(Ot,{onClick:function(){return g(!0)},imgUrl:c}),a.a.createElement(K.a.Item,{style:{marginTop:"40px"}},a.a.createElement(p.a,{type:"primary",onClick:function(){var t=Object(i.a)();e(ge({type:"image",key:t,props:{imgUrl:c,height:w}})),e(Object(ue.b)(t))}},"确认"),a.a.createElement(p.a,{type:"danger",style:{marginLeft:"20px"},onClick:n},"删除"))),a.a.createElement(N.a,{visible:b,onOk:function(){return g(!1)},onCancel:function(){return g(!1)}},a.a.createElement(wt,{src:c})))},jt={id:"ARTICLE_COMPONENT_DEFAULT",name:"默认文章",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/article.png",componentType:"article",defaultProps:{title:"文章标题",author:"作者姓名",dateStr:"2020-06-01",content:"这里是文章内容"}},Ct=l.a.div.withConfig({displayName:"client__Container"})(["padding:20px 15px;font-size:14px;color:#333;"]),xt=l.a.div.withConfig({displayName:"client__Title"})(["font-weight:500;color:#333;font-size:18px;"]),St=l.a.div.withConfig({displayName:"client__Info"})(["display:flex;justify-content:space-between;margin-top:10px;"]),_t=l.a.div.withConfig({displayName:"client__Author"})(["color:#333;font-size:12px;"]),Pt=l.a.div.withConfig({displayName:"client__DateStr"})(["color:#999;font-size:12px;"]),At=l.a.div.withConfig({displayName:"client__Content"})(["margin-top:30px;& > p{white-space:pre-wrap;margin-bottom:0;}"]);var kt=function(e){var t=e.onClick,n=e.title,r=e.author,o=e.dateStr,i=e.content;return a.a.createElement(Ct,{onClick:t},a.a.createElement(xt,null,n),a.a.createElement(St,null,a.a.createElement(_t,null,r),a.a.createElement(Pt,null,o)),a.a.createElement(At,{dangerouslySetInnerHTML:{__html:i}}))};function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tt=function(){var e=Object(o.b)(),t=(Oe(),we()),n=Ee(),l=It(Object(r.useState)(t.props.title),2),c=l[0],u=l[1],f=It(Object(r.useState)(t.props.author),2),m=f[0],s=f[1],d=It(Object(r.useState)(t.props.dateStr),2),b=d[0],g=d[1],y=It(Object(r.useState)(t.props.content),2),h=y[0],v=y[1];return a.a.createElement(Ce,null,a.a.createElement(K.a,null,a.a.createElement(K.a.Item,{label:"标题"},a.a.createElement(V.a,{placeholder:"请输入标题",onChange:function(e){return u(e.target.value)},value:c})),a.a.createElement(K.a.Item,{label:"作者"},a.a.createElement(V.a,{placeholder:"请输入作者",onChange:function(e){return s(e.target.value)},value:m})),a.a.createElement(K.a.Item,{label:"日期"},a.a.createElement(V.a,{placeholder:"请输入日期",onChange:function(e){return g(e.target.value)},value:b})),a.a.createElement(K.a.Item,{label:"内容"},a.a.createElement(et,{onChange:function(e){v(e)},html:t.props.content})),a.a.createElement(K.a.Item,{style:{marginTop:"40px"}},a.a.createElement(p.a,{type:"primary",onClick:function(){var t=Object(i.a)();e(ge({type:"article",key:t,props:{title:c,author:m,dateStr:b,content:h}})),e(Object(ue.b)(t))}},"确认"),a.a.createElement(p.a,{type:"danger",style:{marginLeft:"20px"},onClick:n},"删除"))))},Lt={id:"TAB_COMPONENT_DEFAULT",name:"默认Tab",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/tab.png",componentType:"tab",defaultProps:{tabList:[{id:Object(i.a)(),tabName:"标签1",tabContent:[{id:Object(i.a)(),title:"标签1-标题1",content:"Hello World!",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%954.jpg",redirectUrl:"https://www.baidu.com"},{id:Object(i.a)(),title:"标签1-标题2",content:"Hello World!",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%954.jpg",redirectUrl:"https://www.taobao.com"}]},{id:Object(i.a)(),tabName:"标签2",tabContent:[{id:Object(i.a)(),title:"标签2-标题1",content:"Hello World!2",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%954.jpg",redirectUrl:"https://www.baidu.com"},{id:Object(i.a)(),title:"标签2-标题2",content:"Hello World!",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%954.jpg",redirectUrl:"https://www.baidu.com"}]},{id:Object(i.a)(),tabName:"标签3",tabContent:[{id:Object(i.a)(),title:"标签3-标题1",content:"Hello World!",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%954.jpg",redirectUrl:"https://www.baidu.com"},{id:Object(i.a)(),title:"标签3-标题2",content:"Hello World!",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%954.jpg",redirectUrl:"https://www.baidu.com"}]},{id:Object(i.a)(),tabName:"标签4",tabContent:[{id:Object(i.a)(),title:"标签4-标题1",content:"Hello World!",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%954.jpg",redirectUrl:"https://www.baidu.com"},{id:Object(i.a)(),title:"标签4-标题2",content:"Hello World!",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/%E6%B5%8B%E8%AF%954.jpg",redirectUrl:"https://www.baidu.com"}]}]}};function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt=l.a.div.withConfig({displayName:"client__Container"})(["padding:15px 0;"]),Bt=l.a.div.withConfig({displayName:"client__TabBar"})(["position:relative;display:flex;border-bottom:1px solid #eee;"]),Dt=l.a.div.withConfig({displayName:"client__TabBarItem"})(["position:relative;height:40px;flex:1;display:flex;align-items:center;justify-content:center;"]),zt=l.a.div.withConfig({displayName:"client__TabBarActive"})(["position:absolute;left:50%;transform:translateX(-50%);bottom:0;width:40px;height:2px;background-color:#1890ff;"]),Ht=l.a.div.withConfig({displayName:"client__TabContent"})([""]),Ft=l.a.div.withConfig({displayName:"client__ListItem"})(["display:flex;box-sizing:border-box;margin-left:15px;padding:15px 15px 15px 0;border-bottom:1px solid #eee;&:last-of-type{margin-left:0;padding-left:15px;}"]),qt=l.a.img.withConfig({displayName:"client__ListImage"})(["flex:none;width:70px;height:70px;"]),$t=l.a.div.withConfig({displayName:"client__ListContent"})(["flex:1;overflow:hidden;margin-left:10px;& > h3{font-weight:500;color:#111;margin-bottom:0;line-height:1.4;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}& > div{font-size:14px;color:#666;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical;}"]);var Gt=function(e){var t=e.onClick,n=e.tabList,o=Ut(Object(r.useState)(n&&n[0]?n[0].id:null),2),i=o[0],l=o[1],c=Object(r.useMemo)((function(){return n.filter((function(e){return e.id===i}))[0].tabContent}),[n,i]);return a.a.createElement(Rt,{onClick:t},a.a.createElement(Bt,null,n&&n.map((function(e){return a.a.createElement(Dt,{onClick:(t=e.id,function(){l(t)}),key:e.id},e.tabName,e.id===i&&a.a.createElement(zt,null));var t}))),a.a.createElement(Ht,null,c.map((function(e){return a.a.createElement(Ft,{key:e.id},a.a.createElement(qt,{src:e.imgUrl}),a.a.createElement($t,null,a.a.createElement("h3",null,e.title),a.a.createElement("div",null,e.content)))}))))};function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xt=l.a.div.withConfig({displayName:"TabContentItem__EditText"})(["color:#1890ff;cursor:pointer;"]),Kt=l.a.div.withConfig({displayName:"TabContentItem__Tips"})(["font-size:14px;color:#333;margin-bottom:10px;"]),Vt=l.a.div.withConfig({displayName:"TabContentItem__TabItemTitle"})([""]),Qt=l.a.div.withConfig({displayName:"TabContentItem__RadioBar"})(["margin:10px 0;"]),Yt=Object(l.a)(Xt).withConfig({displayName:"TabContentItem__RemoveItemText"})(["margin-top:20px;margin-bottom:40px;width:80px;"]),Zt=l.a.div.withConfig({displayName:"TabContentItem__PreviewImage"})(["cursor:pointer;width:100px;height:100px;background:url(",") no-repeat;background-size:cover;background-position:center;margin-bottom:30px;"],(function(e){return e.imgUrl}));var en=function(e){var t=e.removeTabContent,n=e.contentItem,o=e.tabItem,i=e.changeTabContent,l=Wt(Object(r.useState)(1),2),c=l[0],u=l[1],p=Wt(Object(r.useState)(1),2),f=p[0],m=p[1],s=Wt(Object(r.useState)(n.imgUrl),2),d=s[0],b=s[1],g=Wt(Object(r.useState)(""),2),y=g[0],h=g[1];return a.a.createElement("div",{key:n.id},a.a.createElement(K.a.Item,{label:"标题"},a.a.createElement(V.a,{onChange:i("title",o.id,n.id),value:n.title})),a.a.createElement(K.a.Item,{label:"内容"},a.a.createElement(V.a,{onChange:i("content",o.id,n.id),value:n.content})),a.a.createElement(Vt,null,"封面图片"),a.a.createElement(Qt,null,a.a.createElement(xe.a.Group,{value:f,onChange:function(e){return m(e.target.value)}},a.a.createElement(xe.a,{value:1},"输入图片链接"),a.a.createElement(xe.a,{value:2},"上传本地图片"))),1===f&&a.a.createElement(K.a.Item,{label:"图片URL"},a.a.createElement(V.a,{style:{width:"300px"},placeholder:"标题",onChange:function(e){return b(e.target.value)},value:d})),2===f&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Kt,null,"大小不得超过2M"),a.a.createElement(bt,{onChange:function(e){i("imgUrl",o.id,n.id)({target:{value:e.url}}),h(e.imgName),b(e.url)},imgName:y})),a.a.createElement(Zt,{imgUrl:d}),a.a.createElement(Vt,null,"跳转链接"),a.a.createElement(Qt,null,a.a.createElement(xe.a.Group,{value:c,onChange:function(e){return u(e.target.value)}},a.a.createElement(xe.a,{value:1},"外部链接"),a.a.createElement(xe.a,{value:2},"本站页面"))),1===c?a.a.createElement(V.a,{value:n.redirectUrl,onChange:i("redirectUrl",o.id,n.id)}):a.a.createElement(_e,{onChange:function(e){i("redirectUrl",o.id,n.id)({target:{value:"./".concat(e.path,".html")}})}}),a.a.createElement(Yt,{onClick:function(){N.a.confirm({title:"确认删除此项?",onOk:function(){t(o.id,n.id)}})}},"删除此项"))};function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rn=l.a.div.withConfig({displayName:"TabItem__ListItem"})(["display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid #eee;"]),an=l.a.div.withConfig({displayName:"TabItem__ListName"})(["cursor:pointer;"]),on=l.a.div.withConfig({displayName:"TabItem__EditText"})(["color:#1890ff;cursor:pointer;"]),ln=l.a.div.withConfig({displayName:"TabItem__Panel"})(["margin-top:10px;box-sizing:border-box;background-color:#f1f1f1;border-radius:4px;padding:15px;"]),cn=l.a.div.withConfig({displayName:"TabItem__ListTitle"})(["margin-bottom:20px;font-size:16px;"]),un=l.a.div.withConfig({displayName:"TabItem__EditPanel"})(["display:flex;"]);var pn=function(e){var t,n=e.removeTab,o=e.removeTabContent,i=e.changeTabTitle,l=e.changeTabContent,c=e.item,u=e.index,p=tn(Object(r.useState)(!1),2),f=p[0],m=p[1];return a.a.createElement("div",null,a.a.createElement(rn,null,a.a.createElement(an,null,u+1,". ",c.tabName),a.a.createElement(un,null,a.a.createElement(on,{onClick:function(){m(!f)}},f?"收起":"编辑"),a.a.createElement(on,{onClick:(t=c.id,function(){N.a.confirm({title:"确认删除此项?",onOk:function(){n(t)}})}),style:{marginLeft:"15px"}},"删除"))),f&&a.a.createElement(ln,null,a.a.createElement(K.a.Item,{label:"标签名"},a.a.createElement(V.a,{onChange:i(c.id),value:c.tabName})),a.a.createElement(cn,null,"Tab内容列表"),c.tabContent.map((function(e){return a.a.createElement(en,{key:e.id,removeTabContent:o,contentItem:e,tabItem:c,changeTabContent:l})}))))};function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gn=l.a.div.withConfig({displayName:"tool__List"})(["border-top:1px solid #eee;margin-bottom:30px;"]);var yn=function(){var e=Object(o.b)(),t=(Oe(),we()),n=Ee(),l=dn(Object(r.useState)(null),2),c=(l[0],l[1],dn(Object(r.useState)(t.props.tabList),2)),u=c[0],f=c[1],m=function(e){return function(t){f(u.map((function(n){return n.id===e?mn(mn({},n),{},{tabName:t.target.value}):mn({},n)})))}},s=function(e,t,n){return function(r){f(u.map((function(a){return a.id===t?mn(mn({},a),{},{tabContent:a.tabContent.map((function(t){return t.id===n?mn(mn({},t),{},sn({},e,r.target.value)):mn({},t)}))}):mn({},a)})))}},d=function(e){f(u.filter((function(t){return t.id!==e})))},b=function(e,t){f(u.map((function(n){return n.id===e?mn(mn({},n),{},{tabContent:n.tabContent.filter((function(e){return e.id!==t}))}):mn({},n)})))};return a.a.createElement(Ce,null,a.a.createElement(gn,null,u.map((function(e,t){return a.a.createElement(pn,{index:t,key:e.id,item:e,removeTab:d,removeTabContent:b,changeTabTitle:m,changeTabContent:s})}))),a.a.createElement(K.a.Item,{style:{marginTop:"40px"}},a.a.createElement(p.a,{type:"primary",onClick:function(){var t=Object(i.a)();e(ge({type:"tab",key:t,props:{tabList:u}})),e(Object(ue.b)(t))}},"确认"),a.a.createElement(p.a,{type:"danger",style:{marginLeft:"20px"},onClick:n},"删除")))},hn={id:"BLANK_COMPONENT_DEFAULT",name:"留白分隔",imgUrl:"https://storage-1257012839.cos.ap-chengdu.myqcloud.com/blank.png",componentType:"blank",defaultProps:{height:"15px",backgroundColor:"#f8f8f8"}},vn=l.a.div.withConfig({displayName:"client__Container"})(["padding:15px 0;"]);var On=function(e){var t=e.onClick,n=e.height,r=e.backgroundColor;return a.a.createElement(vn,{onClick:t},a.a.createElement("div",{style:{height:n,backgroundColor:r}}))},wn=n(870);function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cn=function(){var e=Object(o.b)(),t=(Oe(),we()),n=Ee(),l=En(Object(r.useState)(t.props.height),2),c=l[0],u=l[1],f=En(Object(r.useState)(t.props.backgroundColor),2),m=f[0],s=f[1];return a.a.createElement(Ce,null,a.a.createElement(K.a,null,a.a.createElement(K.a.Item,{label:"高度"},a.a.createElement(V.a,{placeholder:"请输入高度",onChange:function(e){return u(e.target.value)},value:c})),a.a.createElement(K.a.Item,{label:"颜色"},a.a.createElement(V.a,{style:{marginBottom:"20px"},placeholder:"请输入色值",onChange:function(e){return s(e.target.value)},value:m}),a.a.createElement(wn.a,{width:"300px",color:m,onChangeComplete:function(e){return s(e.hex)}})),a.a.createElement(K.a.Item,{style:{marginTop:"40px"}},a.a.createElement(p.a,{type:"primary",onClick:function(){var t=Object(i.a)();e(ge({type:"blank",key:t,props:{height:c,backgroundColor:m}})),e(Object(ue.b)(t))}},"确认"),a.a.createElement(p.a,{type:"danger",style:{marginLeft:"20px"},onClick:n},"删除"))))};function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var An=[{id:"BANNER_COMPONENT",name:"Banner",children:[_n({},ye)]},{id:"PARAGRAPH_COMPONENT",name:"段落",children:[_n({},$e)]},{id:"TEXT_COMPONENT",name:"文本",children:[_n({},at)]},{id:"IMAGE_COMPONENT",name:"图片",children:[_n({},ft)]},{id:"ARTICLE_COMPONENT",name:"文章",children:[_n({},jt)]},{id:"TAB_COMPONENT",name:"TAB",children:[_n({},Lt)]},{id:"BLANK_COMPONENT",name:"分隔",children:[_n({},hn)]}],kn={banner:function(e,t){return a.a.createElement(ve,xn({onClick:t},e))},paragraph:function(e,t){return a.a.createElement(Xe,xn({onClick:t},e))},text:function(e,t){return a.a.createElement(it,xn({onClick:t},e))},image:function(e,t){return a.a.createElement(st,xn({onClick:t},e))},article:function(e,t){return a.a.createElement(kt,xn({onClick:t},e))},tab:function(e,t){return a.a.createElement(Gt,xn({onClick:t},e))},blank:function(e,t){return a.a.createElement(On,xn({onClick:t},e))}};function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mn=l.a.div.withConfig({displayName:"ComponentPanel__Panel"})(["position:absolute;left:0;top:0;height:100%;width:100%;"]),Rn=l.a.div.withConfig({displayName:"ComponentPanel__PanelContainer"})(["width:400px;height:100%;position:relative;z-index:999;background-color:#fff;box-shadow:3px 0 16px rgba(0,0,0,0.06);"]),Bn=l.a.div.withConfig({displayName:"ComponentPanel__HeaderTitle"})(["box-sizing:border-box;padding:15px;display:flex;align-items:center;justify-content:space-between;& > h3{font-size:14px;}& > span{color:#999;padding:10px 10px 10px 15px;margin-right:-10px;cursor:pointer;:hover{color:#ccc;}}"]),Dn=l.a.div.withConfig({displayName:"ComponentPanel__Mask"})(["position:absolute;z-index:99;width:100%;height:100%;left:0;top:0;background-color:rgba(0,0,0,0.1);"]),zn=l.a.div.withConfig({displayName:"ComponentPanel__List"})(["display:flex;box-sizing:border-box;padding-left:20px;"]),Hn=l.a.div.withConfig({displayName:"ComponentPanel__TagList"})(["width:90px;"]),Fn=l.a.div.withConfig({displayName:"ComponentPanel__TagItem"})(["height:30px;box-sizing:border-box;display:flex;align-items:center;cursor:pointer;margin-bottom:10px;& > div{padding:5px 10px;color:",";background:",";border-radius:4px;}"],(function(e){return e.isActive?"#fff":"#666"}),(function(e){return e.isActive?"#1890ff":"#fff"})),qn=l.a.div.withConfig({displayName:"ComponentPanel__ComponentSelect"})(["margin:0 25px;"]),$n=l.a.div.withConfig({displayName:"ComponentPanel__ComponentItem"})(["cursor:pointer;& > img{display:block;width:100%;transition:0.2s all;&:hover{transform:scale(1.05)}}& > div{margin-top:10px;color:#666;font-size:14px;}"]);var Gn=function(){var e=Object(o.b)(),t=Ln(Object(r.useState)(An[0]),2),n=t[0],l=t[1],c=function(){e(Object(ce.a)(!1)),e((function(e,t){var n=t(),r=n.currentSelectPageReducer,a=se(n.pageListReducer);if(a.filter((function(e){return e.id===r}))[0].componentList.map((function(e){return e.type})).includes("empty")){var o=a.map((function(e){return e.id===r?fe(fe({},e),{},{componentList:e.componentList.filter((function(e){return"empty"!==e.type}))}):e}));e(Object(ie.b)(o))}}))},u=function(t){return function(){var n;e((n={type:t.componentType,key:Object(i.a)(),props:Nn({},t.defaultProps)},function(e,t){var r=t(),a=r.currentSelectPageReducer,o=se(r.pageListReducer).map((function(e){return e.id===a?fe(fe({},e),{},{componentList:e.componentList.map((function(e){return"empty"===e.type?n:e}))}):e}));e(Object(ie.b)(o)),e(Object(ce.a)(!1)),e(Object(ue.b)(n.key))}))}};return a.a.createElement(Mn,null,a.a.createElement(Rn,null,a.a.createElement(Bn,null,a.a.createElement("h3",null,"添加组件"),a.a.createElement("span",null,a.a.createElement(le.a,{onClick:c}))),a.a.createElement(zn,null,a.a.createElement(Hn,null,An.map((function(e){return a.a.createElement(Fn,{onClick:function(){return function(e){l(e)}(e)},isActive:e.id===n.id,key:e.id},a.a.createElement("div",null,e.name))}))),a.a.createElement(qn,null,n.children.map((function(e){return a.a.createElement($n,{key:e.id,onClick:u(e)},a.a.createElement("img",{src:e.imgUrl}),a.a.createElement("div",null,e.name))}))))),a.a.createElement(Dn,{onClick:c}))},Wn=(n(868),n(874)),Jn=n(879);function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vn=l.a.div.withConfig({displayName:"ComponentWrap__Container"})(["position:relative;"]),Qn=l.a.div.withConfig({displayName:"ComponentWrap__Content"})(["position:relative;cursor:pointer;"]),Yn=l.a.div.withConfig({displayName:"ComponentWrap__SelectLabel"})(["position:absolute;top:0;right:0;width:30px;height:30px;background-color:#1890ff;opacity:0.8;border-radius:4px;z-index:1;display:flex;align-items:center;justify-content:center;color:#fff;font-size:20px;"]),Zn=l.a.div.withConfig({displayName:"ComponentWrap__AddButton"})(["width:50px;height:50px;border-radius:50%;position:absolute;display:flex;align-items:center;justify-content:center;background-color:#eee;font-size:18px;color:#999;"]),er=Object(l.a)(Zn).withConfig({displayName:"ComponentWrap__TopButton"})(["top:0;transform:translate(-50%,-50%);z-index:9;left:50%;"]),tr=Object(l.a)(Zn).withConfig({displayName:"ComponentWrap__BottomButton"})(["bottom:0;transform:translate(-50%,50%);z-index:9;left:50%;"]);var nr=function(e){var t=e.component,n=e.addComponentOver,o=e.addComponentUnder,i=e.children,l=e.style,c=void 0===l?{}:l,u=Xn(Object(r.useState)(!1),2),p=u[0],f=u[1],m=we(),s=Object(r.useCallback)((function(){f(!0)}),[]),d=Object(r.useCallback)((function(){f(!1)}),[]);return a.a.createElement(Vn,null,a.a.createElement(Qn,{onMouseEnter:s,onMouseLeave:d,style:c},p?a.a.createElement(er,{onClick:function(){return n(t)}},"+"):null,i,p?a.a.createElement(tr,{onClick:function(){return o(t)}},"+"):null),m&&m.key===t.key&&a.a.createElement(Yn,null,a.a.createElement(Jn.a,null)))},rr=n(210),ar=l.a.div.withConfig({displayName:"SandBox__Viewer"})(["position:relative;margin:40px auto;width:375px;height:667px;background-color:#fff;overflow-y:auto;&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-track{border-radius:3px;background:rgba(0,0,0,0.06);}&::-webkit-scrollbar-thumb{border-radius:3px;background:rgba(0,0,0,0.12);}"]),or=l.a.div.withConfig({displayName:"SandBox__Empty"})(["border:2px dashed #ccc;border-radius:4px;margin:10px;display:flex;align-items:center;justify-content:center;color:#999;height:120px;"]);var ir=function(){var e=Object(o.b)(),t=Oe(),n=we(),r=function(t){e(be(t.key,"over"))},l=function(t){e(be(t.key,"under"))};return a.a.createElement(ar,null,t&&t.length>0?t.map((function(t){return"empty"===t.type?a.a.createElement(or,{key:t.key},"请在此处添加组件"):a.a.createElement(nr,{key:t.key,component:t,addComponentOver:r,addComponentUnder:l},kn[t.type](t.props,(function(){return r=t.key,void(n&&n.key===r||e(Object(rr.setCurrentSelectComponent)(r)));var r})))})):a.a.createElement(Wn.a,{status:"info",subTitle:"请先添加组件",extra:a.a.createElement(p.a,{type:"primary",onClick:function(){e((function(e,t){e(Object(ce.a)(!0));var n=t(),r=n.currentSelectPageReducer,a=se(n.pageListReducer).map((function(e){return e.id===r?fe(fe({},e),{},{componentList:e.componentList.concat([{type:"empty",key:Object(i.a)()}])}):e}));e(Object(ie.b)(a))}))}},"添加组件")}))},lr=l.a.div.withConfig({displayName:"EditPanel__Panel"})(["position:absolute;right:0;top:0;height:100%;width:400px;background-color:#fff;overflow:auto;box-shadow:3px 0 16px rgba(0,0,0,0.06);"]),cr=l.a.div.withConfig({displayName:"EditPanel__Info"})(["margin-top:20px;text-align:center;color:#999;"]);var ur=function(){var e=we();return a.a.createElement(lr,null,e?{banner:function(){return a.a.createElement(qe,null)},paragraph:function(){return a.a.createElement(rt,null)},text:function(){return a.a.createElement(pt,null)},image:function(){return a.a.createElement(Et,null)},article:function(){return a.a.createElement(Tt,null)},tab:function(){return a.a.createElement(yn,null)},blank:function(){return a.a.createElement(Cn,null)}}[e.type]():a.a.createElement(cr,null,"暂未选择组件"))},pr=l.a.div.withConfig({displayName:"Edit__Page"})(["position:absolute;top:0;left:0;width:100%;height:100%;& > div{min-width:1300px;height:100%;}"]),fr=l.a.div.withConfig({displayName:"Edit__MainContent"})(["overflow:hidden;position:relative;min-width:1300px;height:calc(100% - 65px);background-color:#f5f5f7;"]);t.default=function(){var e=Object(h.a)().getAppDetail,t=Object(o.c)((function(e){return e.pageListReducer})),n=Object(o.b)(),l=Object(o.c)((function(e){return e.componentPanelReducer})),c=Object(r.useCallback)((function(){var e={title:"首页",id:Object(i.a)(),path:"index",componentList:[]};Object(i.a)();n(Object(ie.b)([e])),n(Object(O.b)(e.id))}),[n]);return Object(r.useEffect)((function(){var t=u.a.parse(window.location.search).appId,r=e(t);try{if(!r.layout)return c();var a=JSON.parse(r.layout);0===a.length?c():(n(Object(ie.b)(a)),n(Object(O.b)(a[0].id)))}catch(e){console.log(e),c()}return function(){n(Object(ie.a)()),n(Object(O.a)())}}),[n,e,c]),console.log("pageListReducer",t),a.a.createElement(pr,null,a.a.createElement("div",null,a.a.createElement(oe,null),a.a.createElement(fr,null,l&&a.a.createElement(Gn,null),a.a.createElement(ir,null),a.a.createElement(ur,null))))}}}]);